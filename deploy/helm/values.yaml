openvpn:
    serviceAccountName: meerkat-vpn
    image:
        name: borchero/meerkat-vpn
        tag: 0.1.0
        pullPolicy: IfNotPresent

    config:
        tunnelAllTraffic: false
        auth: SHA384
        cipher: AES-256-GCM
        host: vpn.example.com

    service:
        type: LoadBalancer
        protocol: UDP
        port: 1194
        nodePort: 31194

    vault:
        role: meerkat-vpn
        dh: kv/meerkat/dh-params
        ta: kv/meerkat/tls-auth
        pki:
            path: pki/meerkat
            crl: pki/meerkat/crl/pem
            issuer: pki/meerkat/issue/server

    dns:
        enabled: false
        zone: my-zone
        subdomain: vpn
        ip:
            kind: serviceIP
            nodeLabels:
                cloud.google.com/gke-nodepool: default

api:
    serviceAccountName: meerkat-api
    image:
        name: borchero/meerkat-api
        tag: 0.1.0
        pullPolicy: IfNotPresent

    service:
        type: ClusterIP
        port: 3000

    vault:
        role: meerkat-api
        host: vault
        port: 8200
        databaseRole: postgres/creds/meerkat

    postgres:
        host: postgres
        port: 5432
        database: meerkat

    ingress:
        enabled: false
        auth:
            enabled: true
            # default admin:admin as generated by `htpasswd -nb <user> <password>`
            users: admin:$apr1$jOC8q/Sl$Rk/1KEAOupqvHcxp/OkzH0
        entrypoints:
        -   websecure
        host: meerkat.example.com

    dns:
        enabled: false
        zones: []
        subdomain: meerkat
        tls:
            issuer:
                kind: ClusterIssuer
                name: my-issuer
